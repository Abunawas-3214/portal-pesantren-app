import{j as e,a as i,y as c,q as d,Y as u}from"./app-B-Baqz4c.js";import{A as m}from"./AuthenticatedLayout-B6xbDHMS.js";import{u as g,f as l,g as x,a as h,b as f,P as p,T as j}from"./trash-Bl-CmOEh.js";import{C as b,a as w,b as v,c as y}from"./chevrons-right-B0iVWwK1.js";import{E as N}from"./eye--8nCEOuH.js";import"./transition-EgPijd1Y.js";import"./logo_rmi-CAq1HG6M.js";import"./createLucideIcon-BgJ3oW2k.js";function P({data:s}){return e.jsxs("div",{className:"flex items-center justify-end space-x-8",children:[e.jsxs("div",{className:"flex space-x-2 items-center justify-center",children:[e.jsx("p",{children:"Show per pages"}),e.jsx("select",{value:s.getState().pagination.pageSize,onChange:n=>{s.setPageSize(Number(n.target.value))},className:"h-10 w-16 rounded-md border border-slate-200 bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[10,20,30,40,50].map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{children:"Page"}),e.jsxs("strong",{children:[s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"border rounded h-8 w-8 flex items-center justify-center hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:e.jsx(b,{className:"h-4 w-4"})}),e.jsx("button",{className:"border rounded h-8 w-8 flex items-center justify-center hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("button",{className:"border rounded h-8 w-8 flex items-center justify-center hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("button",{className:"border rounded h-8 w-8 flex items-center justify-center hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:e.jsx(y,{className:"h-4 w-4"})})]})]})}function C({data:s}){var n,a,o;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Cari Peasantren",value:((n=s.getColumn("name"))==null?void 0:n.getFilterValue())??"",onChange:t=>{var r;return(r=s.getColumn("name"))==null?void 0:r.setFilterValue(t.target.value)},className:"p-2 border w-40 border-slate-300 text-xs rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500 focus:border-slate-500"}),s.getColumn("kecamatan")&&e.jsxs("select",{value:(a=s.getColumn("kecamatan"))==null?void 0:a.getFilterValue(),onChange:t=>{var r;return(r=s.getColumn("kecamatan"))==null?void 0:r.setFilterValue(t.target.value)},className:"p-2 border w-36 border-slate-300 text-xs rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500 focus:border-slate-500",children:[e.jsx("option",{value:"",children:"Semua Kecamatan"}),e.jsx("option",{value:"lowokwaru",children:"Lowokwaru"}),e.jsx("option",{value:"blimbing",children:"Blimbing"}),e.jsx("option",{value:"kedungkandang",children:"Kedungkandang"}),e.jsx("option",{value:"klojen",children:"Klojen"}),e.jsx("option",{value:"sukun",children:"Sukun"})]}),s.getColumn("gender")&&e.jsxs("select",{value:(o=s.getColumn("gender"))==null?void 0:o.getFilterValue(),onChange:t=>{var r;return(r=s.getColumn("gender"))==null?void 0:r.setFilterValue(t.target.value)},className:"p-2 border w-32 border-slate-300 text-xs rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500 focus:border-slate-500",children:[e.jsx("option",{value:"",children:"Semua Gender"}),e.jsx("option",{value:"putra",children:"Putra"}),e.jsx("option",{value:"putri",children:"Putri"}),e.jsx("option",{value:"putra_putri",children:"Putra, Putri"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:"Jumlah Data: "}),e.jsx("p",{children:s.getFilteredRowModel().rows.length})]})]})}function k({columns:s,data:n,permissions:a}){const o=g({data:n,columns:s,getCoreRowModel:x(),getPaginationRowModel:h(),getFilteredRowModel:f()});return e.jsxs("div",{className:"p-2 space-y-4",children:[a.pesantren_access_all&&e.jsx(C,{data:o}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:o.getHeaderGroups().map(t=>e.jsx("tr",{children:t.headers.map(r=>e.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:r.isPlaceholder?null:l(r.column.columnDef.header,r.getContext())},r.id))},t.id))}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.getRowModel().rows.map(t=>e.jsx("tr",{children:t.getVisibleCells().map(r=>e.jsx("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6",children:l(r.column.columnDef.cell,r.getContext())},r.id))},t.id))})]}),a.pesantren_access_all&&e.jsx(P,{data:o})]})}function R(s){confirm("Are you sure you want to delete this Pesantren?")&&c.delete(route("pesantren.destroy",s),{preserveScroll:!0})}const K=[{accessorKey:"id",header:"No",cell:({row:s})=>s.index+1},{accessorKey:"name",header:"Name"},{accessorKey:"alamat",header:"Alamat",cell:({row:s})=>e.jsx("div",{className:"text-wrap",children:s.original.alamat})},{accessorKey:"kecamatan",header:"Kecamatan"},{accessorKey:"programs",header:"Program",cell:({row:s})=>e.jsx("div",{className:"flex flex-wrap gap-2",children:s.original.programs.map(n=>e.jsx("div",{className:"p-1 rounded-md bg-slate-200 w-fit",children:n.name},n.id))})},{accessorKey:"tingkats",header:"Tingkat",cell:({row:s})=>e.jsx("div",{className:"flex flex-wrap gap-2",children:s.original.tingkats.map(n=>e.jsx("div",{className:"p-1 rounded-md bg-slate-200 w-fit",children:n.name},n.id))})},{accessorKey:"gender",header:"Gender",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.original.gender=="putra_putri"?"Putra, Putri":s.original.gender})},{accessorKey:"action",header:"Action",cell:({row:s})=>{const n=s.original.id,a=s.original.userPermissions;return e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.pesantren_show&&e.jsx(i,{href:route("pesantren.show",n),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-green-400 border border-transparent rounded-md shadow-sm hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-green-300 focus:ring-offset-2 sm:w-auto",children:e.jsx(N,{className:"w-4 h-4"})}),a.pesantren_edit&&e.jsx(i,{href:route("pesantren.edit",n),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-yellow-400 border border-transparent rounded-md shadow-sm hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 sm:w-auto",children:e.jsx(p,{className:"w-4 h-4"})}),a.pesantren_delete&&e.jsx("button",{onClick:()=>R(n),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto",children:e.jsx(j,{className:"w-4 h-4"})})]})}}];function I({auth:s,pesantrenData:n}){const a=d(),o=a.props.can,t=n.map(r=>({...r,userPermissions:o}));return e.jsxs(m,{user:s.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Pesantren"}),children:[e.jsx(u,{title:"Pesantren"}),e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"space-y-1 sm:flex-auto",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Pesantren List"}),e.jsx("p",{className:"text-sm text-gray-700",children:"A list of all Pesantren."})]}),a.props.can.pesantren_create&&e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsx(i,{href:route("pesantren.create"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:"Add Pesantren"})})]}),e.jsx("div",{children:e.jsx(k,{columns:K,data:t,permissions:o})})]})}export{I as default};
