import{W as f,j as e,a as b}from"./app-2ReULWO2.js";import{I as a}from"./InputError-woi6E6bw.js";import{L as h}from"./loader-Db9ebDha.js";function w({permissions:d,role:r}){const o=r==null?void 0:r.permissions.map(s=>s.id),{data:m,setData:i,post:c,put:l,errors:t,reset:j,processing:n}=f({name:(r==null?void 0:r.name)||"",permissions:o||[]}),u=s=>{const x=Array.from(s.target.selectedOptions).map(g=>g.value);i("permissions",x)};function p(s){s.preventDefault(),r?l(route("role.update",r.id)):c(route("role.store"))}return e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{value:m.name,onChange:s=>i("name",s.target.value),type:"text",id:"name",className:`block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${t.name?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":""}`}),e.jsx(a,{message:t.name})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Permissions ",e.jsx("span",{className:"text-xs text-gray-400",children:"(Tahan tombol ctrl/cmd utnuk memilih lebih dari 1)"})]}),e.jsx("select",{defaultValue:o==null?void 0:o.map(s=>s.toString()),onChange:u,id:"permissions",name:"permissions",multiple:!0,className:`block w-full h-40 px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${t.permissions?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":""}`,children:d.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.description]},s.id))}),e.jsx(a,{message:t.permissions})]})]}),e.jsxs("div",{className:"px-4 py-3 text-right sm:px-6",children:[e.jsx("button",{children:e.jsx(b,{disabled:n,href:route("post.index"),className:`inline-flex items-center px-4 py-2 mr-4 text-sm font-medium text-indigo-700 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${n?"opacity-25 cursor-not-allowed":""}`,children:"Cancel"})}),e.jsx("button",{disabled:n,type:"submit",className:`inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 items-center ${n?"opacity-25 cursor-not-allowed":""}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-3 h-3 mr-2 animate-spin"})," Loading..."]}):"Next"})]})]})}export{w as R};
