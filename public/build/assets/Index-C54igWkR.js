import{j as e,a as n,y as c,q as d,Y as m}from"./app-DyBQa7Co.js";import{A as u}from"./AuthenticatedLayout-C_0eJ98e.js";import{u as x,f as a,g as f,P as h,T as p}from"./trash-t54TfTnx.js";import{E as g}from"./eye-BiDhnBtg.js";import"./transition-LIEQrJUV.js";import"./logo_rmi-CAq1HG6M.js";import"./createLucideIcon-BW3pXMuF.js";function j({columns:s,data:r}){const o=x({data:r,columns:s,getCoreRowModel:f()});return e.jsx("div",{className:"p-2",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:o.getHeaderGroups().map(i=>e.jsx("tr",{children:i.headers.map(t=>e.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:t.isPlaceholder?null:a(t.column.columnDef.header,t.getContext())},t.id))},i.id))}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.getRowModel().rows.map(i=>e.jsx("tr",{children:i.getVisibleCells().map(t=>e.jsx("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6",children:a(t.column.columnDef.cell,t.getContext())},t.id))},i.id))})]})})}function y(s){confirm("Are you sure you want to delete this post?")&&c.delete(route("post.destroy",s),{preserveScroll:!0})}const b=[{accessorFn:(s,r)=>r+1,header:"No."},{accessorKey:"title",header:"Title",cell:({row:s})=>e.jsx("div",{className:"capitalize text-wrap",children:s.original.title})},{accessorKey:"user_id",header:"Author",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.original.user.name})},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.original.status})},{accessorKey:"action",header:"Action",cell:({row:s})=>{const r=s.original.id,o=s.original.userPermissions;return e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.post_show&&e.jsx(n,{href:route("post.show",r),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-green-400 border border-transparent rounded-md shadow-sm hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-green-300 focus:ring-offset-2 sm:w-auto",children:e.jsx(g,{className:"w-4 h-4"})}),o.post_edit&&e.jsx(n,{href:route("post.edit",{id:r}),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-yellow-400 border border-transparent rounded-md shadow-sm hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 sm:w-auto",children:e.jsx(h,{className:"w-4 h-4"})}),o.post_delete&&e.jsx("button",{onClick:()=>y(r),className:"inline-flex items-center justify-center p-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto",children:e.jsx(p,{className:"w-4 h-4"})})]})}}];function T({auth:s,posts:r}){const i=d().props.can,t=r.map(l=>({...l,userPermissions:i}));return e.jsxs(u,{user:s.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Post"}),children:[e.jsx(m,{title:"Post"}),e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"space-y-1 sm:flex-auto",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Post List"}),e.jsx("p",{className:"text-sm text-gray-700",children:"A list of all Post."})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsx(n,{href:route("post.create"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:"Add Post"})})]}),e.jsx(j,{columns:b,data:t})]})}export{T as default};
